<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­ä¾›AIæ•™å®¤ ä½œå“é›† | useAI Club</title>

    <!-- Google Fonts: Inter (è¦‹å‡ºã—ç”¨) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- å…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ -->
    <link rel="stylesheet" href="../style.css">

    <style>
        /* ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        body.has-fixed-header {
            padding-top: 80px;
        }

        .page-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* --- ã‚¤ãƒ™ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ --- */
        .event-section-card {
            background-color: #ffffff;
            border-radius: 1rem;
            padding: 40px;
            margin-bottom: 60px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            border: 1px solid #E5E7EB;
        }

        .event-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #F3F4F6;
        }

        .event-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .game-card-link {
            text-decoration: none;
            display: block;
            height: 100%;
        }

        /* --- ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ã®ä¿®æ­£ --- */
        .game-card {
            height: 100%;
            display: flex;
            flex-direction: column;
            background-color: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-radius: 0.75rem;
            overflow: hidden;
            transition: all 0.3s ease;
            position: relative; /* ãƒœã‚¿ãƒ³é…ç½®ã®åŸºæº– */
        }

        /* ãƒ›ãƒãƒ¼æ™‚ã®æŒ™å‹•å¼·åŒ– */
        .game-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: var(--color-primary, #4F46E5); /* fallback color added */
        }

        .game-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #E5E7EB;
        }

        .card-content {
            padding: 1.25rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .game-badge-wrapper {
            margin-bottom: 10px;
        }

        .game-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-heading);
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .game-creator {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .game-prompt {
            font-size: 0.85rem;
            color: var(--text-body);
            background-color: #ffffff;
            padding: 10px;
            border-radius: 0.5rem;
            border: 1px solid #E5E7EB;
            margin-bottom: 1rem; /* ãƒœã‚¿ãƒ³ã¨ã®ä½™ç™½ */
            font-style: italic;
        }

        /* --- ãƒ—ãƒ¬ã‚¤ãƒœã‚¿ãƒ³é¢¨ã‚¹ã‚¿ã‚¤ãƒ« --- */
        .play-button-wrapper {
            margin-top: auto; /* ä¸€ç•ªä¸‹ã«é…ç½® */
        }

        .play-button-style {
            display: block;
            width: 100%;
            text-align: center;
            background-color: var(--color-accent, #F97316); /* ãƒœã‚¿ãƒ³ã‚«ãƒ©ãƒ¼ */
            color: #ffffff;
            font-weight: 700;
            padding: 10px 0;
            border-radius: 0.5rem;
            transition: background-color 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .loading-state {
            text-align: center;
            padding: 60px 20px;
        }

        @media (max-width: 768px) {
            .event-section-card {
                padding: 20px;
                margin-bottom: 40px;
            }
            .games-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            body.has-fixed-header {
                padding-top: 60px;
            }
        }
    </style>
</head>
<body class="has-fixed-header text-body bg-base">

<!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
<header id="main-header" class="fixed w-full top-0 z-50">
    <nav id="main-nav" class="flex items-center justify-between px-6 py-4 transition-all duration-300">
        <div class="flex items-center">
            <a href="#" class="text-2xl font-black uppercase tracking-tight interactive flex items-center gap-1 brand-text">
                <span class="text-primary">USE</span>
                <span class="text-heading">AI</span>
                <span class="text-accent">CLUB</span>
            </a>
        </div>

        <!-- ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
        <div class="hidden md:flex items-center space-x-8">
            <a href="#section-about" class="navigation-link text-sm">useAIã‚¯ãƒ©ãƒ–ã¨ã¯</a>
            <a href="__su__shi.html" class="navigation-link text-sm">ç™ºèµ·äººã™ã£ã—ãƒ¼</a>
            <a href="https://useaiclub.connpass.com/" target="_blank" rel="nofollow noopener noreferrer" class="navigation-link text-sm">å®šä¾‹ã‚¤ãƒ™ãƒ³ãƒˆ</a>
            <a href="workshop-games/index.html" class="navigation-link text-sm">AIãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ä½œå“</a>
            <a href="#section-tools" class="navigation-link text-sm">ç”ŸæˆAIãƒ„ãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>
            <a href="#section-join" class="button-primary text-sm px-6 py-2">å‚åŠ ã™ã‚‹</a>
        </div>

        <!-- ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ (common.jsã§åˆ¶å¾¡) -->
        <button id="mobile-menu-btn" class="md:hidden p-2 text-heading" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
    </nav>

    <!-- ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="mobile-menu" class="hidden md:hidden bg-base-alt border-b border-gray-200 p-4 absolute w-full">
        <div class="flex flex-col space-y-4">
            <a href="#section-about" class="navigation-link text-sm">useAIã‚¯ãƒ©ãƒ–ã¨ã¯</a>
            <a href="__su__shi.html" class="navigation-link text-sm">ç™ºèµ·äººã™ã£ã—ãƒ¼</a>
            <a href="https://useaiclub.connpass.com/" target="_blank" rel="nofollow noopener noreferrer" class="navigation-link text-sm">å®šä¾‹ã‚¤ãƒ™ãƒ³ãƒˆ</a>
            <a href="workshop-games/index.html" class="navigation-link text-sm">AIãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ä½œå“</a>
            <a href="#section-tools" class="navigation-link text-sm">ç”ŸæˆAIãƒ„ãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>
            <a href="#section-join" class="button-primary text-sm px-6 py-2">å‚åŠ ã™ã‚‹</a>
        </div>
    </div>
</header>

<main>
    <div class="page-container">
        <div class="text-center mb-12 pt-8">
            <span class="inline-block py-1 px-3 rounded-full bg-white border border-accent/20 text-accent text-xs font-bold mb-4 tracking-wider">
                Works Gallery
            </span>
            <h1 class="text-3xl md:text-4xl font-black text-heading mb-4">useAIã‚¯ãƒ©ãƒ– ã‚²ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ä½œå“é›†</h1>
            <p class="text-muted max-w-2xl mx-auto">å­ä¾›ãŸã¡ãŒè€ƒãˆãŸã‚²ãƒ¼ãƒ ã‚’AIã§ç”Ÿæˆãƒ»å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚<br>ã€Œã‚²ãƒ¼ãƒ ã‚’éŠã¶ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€è‡ªç”±ãªç™ºæƒ³ã‚’æ¥½ã—ã‚“ã§ãã ã•ã„ã€‚</p>
        </div>

        <div id="loading" class="loading-state">
            <div class="inline-block w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mb-2"></div>
            <p class="text-muted">èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
        <div id="all-events"></div>
    </div>
</main>

<!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
<footer class="bg-white border-t border-gray-200 py-10 text-center text-sm text-muted mt-10">
    <div class="container mx-auto px-6">
        <p class="mb-4 brand-text font-bold text-lg text-primary">useaiclub.com</p>
        <p>&copy; 2025 useAIã‚¯ãƒ©ãƒ–. All rights reserved.</p>
    </div>
</footer>

<script>
    // ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ç°¡æ˜“åˆ¶å¾¡
    document.getElementById('mobile-menu-btn').addEventListener('click', function() {
        const menu = document.getElementById('mobile-menu');
        menu.classList.toggle('hidden');
    });

    fetch('folders.json')
        .then(response => response.json())
        .then(folders => {
            return Promise.all(
                folders.map(folder =>
                    fetch(`${folder}/event.json`)
                        .then(r => r.json())
                        .then(data => ({folder, data}))
                )
            );
        })
        .then(allEvents => {
            document.getElementById('loading').style.display = 'none';

            allEvents.forEach(({folder, data}) => {
                let html = `
                    <section class="event-section-card">
                        <div class="event-header">
                            <div class="flex items-center justify-between flex-wrap gap-4 mb-2">
                                <h2 class="text-2xl font-bold text-primary m-0">${data.eventName}</h2>
                                <span class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold">
                                    ğŸ“… ${data.eventDate}
                                </span>
                            </div>
                               <!-- ã‚¤ãƒ™ãƒ³ãƒˆç”»åƒ -->
        ${data.eventImage ? `
          <div class="event-hero-wrapper mb-4">
            <img src="${folder}/${data.eventImage}"
                 alt="${data.eventName}ã®ã‚¤ãƒ¡ãƒ¼ã‚¸"
                 class="event-hero-image"
                 onerror="this.style.display='none'">
          </div>` : ''}
        <p class="text-body leading-relaxed mb-4">${data.eventDescription}</p>
        ${data.eventURL ? `<a href="${data.eventURL}" class="text-accent hover:text-accent-hover font-bold inline-flex items-center gap-1 no-underline hover:underline" target="_blank" rel="noopener noreferrer">ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ã‚’è¦‹ã‚‹ â€¦</a>` : ''}
    </div>
    <div class="games-grid">
                            </div>
                        <div class="games-grid">`;

                data.games.forEach(g => {
                    let ageText = g.age ? `${g.age}æ­³` : '';
                    let gradeText = g.grade ? (ageText ? 'ãƒ»' : '') + g.grade : '';
                    let creatorInfo = `ğŸ‘¤ ${g.creator}`;
                    if (ageText || gradeText) {
                        creatorInfo += ` ï¼ˆ${ageText}${gradeText}ï¼‰`;
                    }

                    // Promptã®HTMLç”Ÿæˆ
                    let promptHtml = g.prompt ? `<div class="game-prompt">ã€Œ${g.prompt}ã€</div>` : '';

                    html += `
                        <a href="${folder}/${g.id}.html" class="game-card-link group" target="_blank" rel="noopener noreferrer">
                            <article class="game-card">
                                <img src="${folder}/${g.id}.png"
                                     alt="${g.title}"
                                     class="game-image"
                                     onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22300%22 height=%22200%22><rect fill=%22%23F3F4F6%22 width=%22300%22 height=%22200%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22%239CA3AF%22 font-size=%2216%22>No Image</text></svg>'">
                                <div class="card-content">
                                    <div class="game-badge-wrapper">
                                        <span class="inline-block bg-primary text-white text-xs px-2 py-1 rounded">${g.ai}</span>
                                    </div>
                                    <h3 class="game-title">${g.title}</h3>
                                    <p class="game-creator">${creatorInfo}</p>

                                    ${promptHtml}

                                    <!-- ãƒ—ãƒ¬ã‚¤ãƒœã‚¿ãƒ³ -->
                                    <div class="play-button-wrapper">
                                        <span class="play-button-style">
                                            ã‚²ãƒ¼ãƒ ã‚’éŠã¶
                                            <svg class="icon-lg w-5 h-5 shrink-0"  fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                        </span>
                                    </div>
                                </div>
                            </article>
                        </a>`;
                });

                html += `</div></section>`;
                document.getElementById('all-events').innerHTML += html;
            });
        })
        .catch(error => {
            document.getElementById('loading').innerHTML = '<p class="text-red-500 font-bold">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message + '</p>';
        });
</script>
</body>
</html>
