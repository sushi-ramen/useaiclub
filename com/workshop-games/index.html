<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­ä¾›AIæ•™å®¤ ä½œå“é›† | useAI Club</title>

    <!-- Google Fonts: Inter (è¦‹å‡ºã—ç”¨) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- å…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ -->
    <link rel="stylesheet" href="../style.css">

    <style>
        /* ãƒšãƒ¼ã‚¸å›ºæœ‰ã®ã‚¹ã‚¿ã‚¤ãƒ« */
        body.has-fixed-header {
            padding-top: 80px;
        }

        .page-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* --- ä¿®æ­£: ã‚¤ãƒ™ãƒ³ãƒˆã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³å¼·åŒ– --- */
        .event-section-card {
            background-color: #ffffff; /* èƒŒæ™¯ã‚’ç™½ã« */
            border-radius: 1rem;       /* è§’ä¸¸ */
            padding: 40px;             /* å†…å´ã®ä½™ç™½ */
            margin-bottom: 60px;       /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³é–“ã®ä½™ç™½ */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* å½± */
            border: 1px solid #E5E7EB; /* è–„ã„æ ç·š */
        }

        .event-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #F3F4F6; /* ãƒ˜ãƒƒãƒ€ãƒ¼ä¸‹ã®åŒºåˆ‡ã‚Šç·š */
        }

        .event-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        /* ã‚°ãƒªãƒƒãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }

        .game-card-link {
            text-decoration: none;
            display: block;
            height: 100%;
        }

        /* ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .game-card {
            height: 100%;
            display: flex;
            flex-direction: column;
            background-color: #F9FAFB; /* ã‚«ãƒ¼ãƒ‰èƒŒæ™¯ã‚’å°‘ã—ã‚°ãƒ¬ãƒ¼ã« */
            border: 1px solid #E5E7EB;
            border-radius: 0.75rem;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border-color: var(--color-primary);
        }

        .game-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #E5E7EB;
        }

        .card-content {
            padding: 1.25rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .game-badge-wrapper {
            margin-bottom: 10px;
        }

        .game-title {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--text-heading);
            margin-bottom: 0.5rem;
            line-height: 1.4;
        }

        .game-creator {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .game-prompt {
            font-size: 0.85rem;
            color: var(--text-body);
            background-color: #ffffff;
            padding: 10px;
            border-radius: 0.5rem;
            border: 1px solid #E5E7EB;
            margin-top: auto; /* ä¸‹å¯„ã› */
            font-style: italic;
        }

        .loading-state {
            text-align: center;
            padding: 60px 20px;
        }

        @media (max-width: 768px) {
            .event-section-card {
                padding: 20px; /* ã‚¹ãƒãƒ›ã§ã¯ä½™ç™½ã‚’æ¸›ã‚‰ã™ */
                margin-bottom: 40px;
            }
            .games-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            body.has-fixed-header {
                padding-top: 60px;
            }
        }
    </style>
</head>
<!-- ä¿®æ­£: has-custom-cursor ã‚’å‰Šé™¤ã—ã€bg-base (ã‚¯ãƒªãƒ¼ãƒ è‰²) ã‚’é©ç”¨ -->
<body class="has-fixed-header text-body bg-base">

<!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
<header id="main-header" class="fixed w-full top-0 z-50 bg-white/90 backdrop-blur-sm border-b border-gray-200">
    <nav id="main-nav" class="flex items-center justify-between px-6 py-4 transition-all duration-300 container mx-auto">
        <div class="flex items-center">
            <a href="index.html" class="text-2xl font-black uppercase tracking-tight interactive flex items-center gap-1 brand-text no-underline">
                <span class="text-primary">USE</span>
                <span class="text-heading">AI</span>
                <span class="text-accent">CLUB</span>
            </a>
        </div>

        <div class="hidden md:flex items-center space-x-8">
            <a href="index.html" class="navigation-link text-sm hover:text-primary transition-colors">home</a>

        </div>

        <button id="mobile-menu-btn" class="md:hidden p-2 text-heading" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
    </nav>

    <!-- ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ (ç°¡æ˜“å®Ÿè£…) -->
    <div id="mobile-menu" class="hidden md:hidden bg-white border-b border-gray-200 p-4 absolute w-full shadow-lg">
        <div class="flex flex-col space-y-4">
            <a href="index.html" class="block text-sm font-bold text-primary">ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¸æˆ»ã‚‹</a>
        </div>
    </div>
</header>

<main>
    <div class="page-container">
        <div class="text-center mb-12 pt-8">
            <span class="inline-block py-1 px-3 rounded-full bg-white border border-accent/20 text-accent text-xs font-bold mb-4 tracking-wider">
                Works Gallery
            </span>
            <h1 class="text-3xl md:text-4xl font-black text-heading mb-4">useAIã‚¯ãƒ©ãƒ– ã‚²ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ä½œå“é›†</h1>
            <p class="text-muted max-w-2xl mx-auto">å­ä¾›ãŸã¡ãŒè€ƒãˆãŸã‚²ãƒ¼ãƒ ã‚’AIã§ç”Ÿæˆãƒ»å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚<br>è‡ªç”±ãªç™ºæƒ³ã¨AIã®ã‚³ãƒ©ãƒœãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
        </div>

        <div id="loading" class="loading-state">
            <div class="inline-block w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mb-2"></div>
            <p class="text-muted">èª­ã¿è¾¼ã¿ä¸­...</p>
        </div>
        <div id="all-events"></div>
    </div>
</main>

<!-- ãƒ•ãƒƒã‚¿ãƒ¼ -->
<footer class="bg-white border-t border-gray-200 py-10 text-center text-sm text-muted mt-10">
    <div class="container mx-auto px-6">
        <p class="mb-4 brand-text font-bold text-lg text-primary">useaiclub.com</p>
        <p>&copy; 2025 useAIã‚¯ãƒ©ãƒ–. All rights reserved.</p>
    </div>
</footer>

<script>
    // ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ç°¡æ˜“åˆ¶å¾¡
    document.getElementById('mobile-menu-btn').addEventListener('click', function() {
        const menu = document.getElementById('mobile-menu');
        menu.classList.toggle('hidden');
    });

    fetch('folders.json')
        .then(response => response.json())
        .then(folders => {
            return Promise.all(
                folders.map(folder =>
                    fetch(`${folder}/event.json`)
                        .then(r => r.json())
                        .then(data => ({folder, data}))
                )
            );
        })
        .then(allEvents => {
            document.getElementById('loading').style.display = 'none';

            allEvents.forEach(({folder, data}) => {
                let html = `
                    <!-- ä¿®æ­£: ã‚»ã‚¯ã‚·ãƒ§ãƒ³å…¨ä½“ã‚’ã‚«ãƒ¼ãƒ‰åŒ– (.event-section-card) -->
                    <section class="event-section-card">
                        <div class="event-header">
                            <div class="flex items-center justify-between flex-wrap gap-4 mb-2">
                                <h2 class="text-2xl font-bold text-primary m-0">${data.eventName}</h2>
                                <span class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-bold">
                                    ğŸ“… ${data.eventDate}
                                </span>
                            </div>
                            <p class="text-body leading-relaxed mb-4">${data.eventDescription}</p>
                            ${data.eventURL ? `<a href="${data.eventURL}" class="text-accent hover:text-accent-hover font-bold inline-flex items-center gap-1 no-underline hover:underline" target="_blank" rel="noopener noreferrer">ã‚¤ãƒ™ãƒ³ãƒˆè©³ç´°ã‚’è¦‹ã‚‹ <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a>` : ''}
                        </div>
                        <div class="games-grid">`;

                data.games.forEach(g => {
                    let ageText = g.age ? `${g.age}æ­³` : '';
                    let gradeText = g.grade ? (ageText ? 'ãƒ»' : '') + g.grade : '';
                    let creatorInfo = `ğŸ‘¤ ${g.creator}`;
                    if (ageText || gradeText) {
                        creatorInfo += ` ï¼ˆ${ageText}${gradeText}ï¼‰`;
                    }

                    let promptHtml = g.prompt ? `<div class="game-prompt">ã€Œ${g.prompt}ã€</div>` : '';

                    html += `
                        <a href="${folder}/${g.id}.html" class="game-card-link">
                            <!-- ä¿®æ­£: ã‚²ãƒ¼ãƒ ã‚«ãƒ¼ãƒ‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³èª¿æ•´ -->
                            <article class="game-card">
                                <img src="${folder}/${g.id}.png"
                                     alt="${g.title}"
                                     class="game-image"
                                     onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22300%22 height=%22200%22><rect fill=%22%23F3F4F6%22 width=%22300%22 height=%22200%22/><text x=%2250%25%22 y=%2250%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 fill=%22%239CA3AF%22 font-size=%2216%22>No Image</text></svg>'">
                                <div class="card-content">
                                    <div class="game-badge-wrapper">
                                        <span class="inline-block bg-primary text-white text-xs px-2 py-1 rounded">${g.ai}</span>
                                    </div>
                                    <h3 class="game-title">${g.title}</h3>
                                    <p class="game-creator">${creatorInfo}</p>
                                    ${promptHtml}
                                </div>
                            </article>
                        </a>`;
                });

                html += `</div></section>`;
                document.getElementById('all-events').innerHTML += html;
            });
        })
        .catch(error => {
            document.getElementById('loading').innerHTML = '<p class="text-red-500 font-bold">ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + error.message + '</p>';
        });
</script>
</body>
</html>
